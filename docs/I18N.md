# Internationalization (i18n) Guide

Sentinel supports multiple languages using a custom i18n solution with React Context.

## Supported Languages

- **English** (`en`) - Default
- **Traditional Chinese** (`zh-TW`) - 繁體中文
- **Simplified Chinese** (`zh-CN`) - 简体中文
- **Japanese** (`ja`) - 日本語

## How It Works

1. **Auto-detection**: The app automatically detects the user's browser language on first visit
   - Detects Japanese for ja locales
   - Detects Traditional Chinese for TW, HK, MO locales
   - Detects Simplified Chinese for CN, SG locales
2. **Persistence**: Language preference is saved to localStorage
3. **Manual switching**: Users can switch languages using the dropdown menu in the header

## For Users

Use the language dropdown menu in the header to select your preferred language:
- **English** - English interface
- **繁體中文** - Traditional Chinese interface
- **简体中文** - Simplified Chinese interface
- **日本語** - Japanese interface

The app will remember your language preference across sessions.

## For Developers

### Using Translations in Components

```tsx
import { useI18n } from '../i18n'

function MyComponent() {
  const { t, language, setLanguage } = useI18n()
  
  return (
    <div>
      <h1>{t.header.title}</h1>
      <p>{t.dropZone.title}</p>
    </div>
  )
}
```

### Using Placeholders

For dynamic content with placeholders:

```tsx
import { useI18n } from '../i18n'

function MyComponent({ count }: { count: number }) {
  const { t, interpolate } = useI18n()
  
  return (
    <p>{interpolate(t.clipSelector.foundClips, { count })}</p>
  )
}
```

This will replace `{count}` in the translation string with the actual value.

### Adding New Translations

1. Open `/src/i18n/translations.ts`
2. Add your new keys to the `Translations` interface
3. Add the translation text for all supported languages.

Example:

```typescript
export interface Translations {
  // ... existing translations
  myNewSection: {
    title: string
    description: string
  }
}

export const translations: Record<Language, Translations> = {
  en: {
    // ... existing translations
    myNewSection: {
      title: 'My Title',
      description: 'My description'
    }
  },
  'zh-TW': {
    // ... existing translations
    myNewSection: {
      title: '我的標題',
      description: '我的描述'
    }
  }
}
```

### Adding a New Language

1. Add the language code to the `Language` type in `/src/i18n/translations.ts`
2. Add the complete translation set to the `translations` object
3. Update the language detection logic in `/src/i18n/I18nContext.tsx` if needed
4. Add the language option to the LanguageSwitcher dropdown component
5. Update the `languageShortNames` and `languageFullNames` object in LanguageSwitcher.tsx

Example:

```typescript
// In translations.ts
export type Language = 'en' | 'zh-TW' | 'zh-CN' | 'ja' | 'fr' // Add 'fr' for French

// In LanguageSwitcher.tsx
const languageShortNames: Record<Language, string> = {
  'en': 'EN',
  'zh-TW': '繁',
  'zh-CN': '简',
  'ja': 'JA',
  'fr': 'FR' // Add French
}

const languageFullNames: Record<Language, string> = {
  'en': 'English',
  'zh-TW': '繁體中文',
  'zh-CN': '简体中文',
  'ja': '日本語',
  'fr': 'Français' // Add French
}
```

## Translation Structure

Translations are organized by feature/section:

- `common` - Common UI elements (buttons, loading states, etc.)
- `header` - Application header
- `dropZone` - File selection interface
- `requirements` - Requirements list
- `clipSelector` - Clip selection modal
- `validation` - Validation and processing messages
- `player` - Video player controls
- `event` - Event information display
- `errors` - Error messages
- `disclaimer` - Privacy disclaimer

## Best Practices

1. **Use semantic keys**: Name translation keys based on their purpose, not their content
2. **Keep it organized**: Group related translations together
3. **Avoid hardcoded strings**: Always use translations for user-facing text
4. **Test both languages**: Verify UI layout works for all supported languages (Chinese text is often longer)
5. **Use placeholders**: For dynamic content, use the `interpolate` function

## TODO

- Add more language options (Japanese, Korean, etc.)
- Consider using a library like `react-i18next` for more advanced features
- Add date/time localization using `Intl` APIs
